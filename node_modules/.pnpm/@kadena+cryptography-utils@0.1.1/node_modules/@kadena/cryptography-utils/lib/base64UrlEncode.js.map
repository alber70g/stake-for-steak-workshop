{"version":3,"file":"base64UrlEncode.js","sourceRoot":"","sources":["../src/base64UrlEncode.ts"],"names":[],"mappings":";;;AAGA,mEAAgE;AAEhE,MAAM,KAAK,GACT,mEAAmE,CAAC;AAEtE;;;;;GAKG;AACH,SAAgB,eAAe,CAAC,GAAW;IACzC,IAAI,KAAyB,CAAC;IAC9B,IAAI,QAAgB,CAAC;IACrB,IAAI,MAAM,GAAW,EAAE,CAAC;IACxB,KACE,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,EACxB,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,EACnB,MAAM,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EACzD;QACA,QAAQ,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC1C,IAAI,QAAQ,GAAG,IAAI,EAAE;YACnB,MAAM,IAAI,6CAAqB,CAC7B,0FAA0F,CAC3F,CAAC;SACH;QACD,4EAA4E;QAC5E,KAAK,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,QAAQ,CAAC;KACxC;IACD,OAAO,MAAM,CAAC;AAChB,CAAC;AAnBD,0CAmBC","sourcesContent":["/* eslint-disable no-bitwise */\nimport type { IBase64Url } from '@kadena/types';\n\nimport { InvalidCharacterError } from './InvalidCharacterError';\n\nconst chars: string =\n  'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=';\n\n/**\n * Takes in string and outputs Base64 Url encoded string\n * code from [https://gist.github.com/999166] by [https://github.com/nignag]\n *\n * @alpha\n */\nexport function base64UrlEncode(str: string): IBase64Url {\n  let block: number | undefined;\n  let charCode: number;\n  let output: string = '';\n  for (\n    let idx = 0, map = chars;\n    str.charAt(idx | 0);\n    output += map.charAt(63 & (block >> (8 - (idx % 1) * 8)))\n  ) {\n    charCode = str.charCodeAt((idx += 3 / 4));\n    if (charCode > 0xff) {\n      throw new InvalidCharacterError(\n        \"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\",\n      );\n    }\n    /* eslint-disable-next-line @typescript-eslint/strict-boolean-expressions */\n    block = ((block || 0) << 8) | charCode;\n  }\n  return output;\n}\n"]}